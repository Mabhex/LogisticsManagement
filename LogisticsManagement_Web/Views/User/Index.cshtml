@using LogisticsManagement_Poco;
@model IEnumerable<App_UserPoco>

@{
    ViewData["Title"] = "User";
}

<h3>
    @ViewData["Title"]
</h3>
<hr style="margin-bottom:40px" />


<form id="frmUserForm">
    <div class="row">
        <div class="col-sm-9">
            <div class="row">
                <div class="col-sm-12 form-group">
                    <input class="col-2 form-control form-control-sm" placeholder="&#xF002; User id" style="font-family:Arial, FontAwesome" id="txtUserId" type="number" min="1" name="txtUserId" readonly>
                </div>
            </div>

            <div class="row">
                <div class="form-group col-sm-4">
                    <small>
                        <b>
                            <label id="lblFirstName" for="txtFirstName">First name</label>
                        </b>
                    </small>
                    <input class="form-control form-control-sm" id="txtFirstName" placeholder="First name" name="txtFirstName" type="text" maxlength="20" required />
                </div>
                <div class="form-group col-sm-4">
                    <small>
                        <b>
                            <label id="lblLastName" for="txtLastName">Last name</label>
                        </b>
                    </small>
                    <input class="form-control form-control-sm" id="txtLastName" placeholder="Last name" name="txtLastName" maxlength="20" type="text" />
                </div>
                <div class="form-group col-sm-3">
                    <small>
                        <b>
                            <label id="lblLastName" for="ddlUserGroupId">User group</label>
                        </b>
                    </small>
                    <select class="form-control form-control-sm" id="ddlUserGroupId" name="ddlUserGroupId" required>
                        <option value="0">User Group</option>
                        @foreach (var group in ViewBag.UserGroups)
                        {
                            var groupId = (int)group;
                            <option value="@groupId">@group</option>
                        }
                    </select>
                </div>
            </div>

            <div class="row">
                <div class="form-group col-sm-2">
                    <small>
                        <b>
                            <label for="txtUserName">User name</label>
                        </b>
                    </small>
                    <input class="form-control form-control-sm" id="txtUserName" placeholder="User name" name="txtUserName" type="text" maxlength="20" title="User name" required />
                </div>
                <div class="form-group col-sm-3">
                    <small>
                        <b>
                            <label for="txtPassword">Password</label>
                        </b>
                    </small>
                    <input class="form-control form-control-sm" id="txtPassword" placeholder="Password" name="txtPassword" type="password" maxlength="20" title="Password" required />
                </div>
                <div class="form-group col-sm-3">
                    <small>
                        <b>
                            <label for="txtConfirmPassword">Confirm password</label>
                        </b>
                    </small>
                    <input class="form-control form-control-sm" id="txtConfirmPassword" placeholder="Confirm password" name="txtConfirmPassword" type="password" maxlength="20" required title="Confirm password" />
                </div>
                <div class="form-group col-sm-3">
                    <small>
                        <b>
                            <label for="ddlEmployeeId">Employee</label>
                        </b>
                    </small>
                    <select class="form-control form-control-sm" id="ddlEmployeeId">
                        <option value="0" selected>-Select-</option>
                        @foreach (var item in ViewBag.Employees)
                        {
                            <option value="@item.Id">@item.FirstName  @item.LastName</option>
                        }
                    </select>
                </div>
            </div>

            <hr />

            <div class="row">
                <div class="form-group col-sm-9">
                    <input class="form-control form-control-sm" id="txtAddressLine" placeholder="Address line" name="txtAddressLine" type="text" maxlength="100" />
                </div>
            </div>

            <div class="row">
                <div class="form-group col-sm-4">
                    <select class="form-control form-control-sm" id="ddlCityId" name="ddlCityId">
                        <option value="0" selected>City</option>
                        @foreach (var city in ViewBag.Cities)
                        {
                            <option value="@city.Id">@city.CityName</option>
                        }
                    </select>
                </div>
                <div class="form-group col-sm-3">
                    <select class="form-control form-control-sm" id="ddlProvinceId" name="ddlProvinceId">
                        <option value="0" selected>Province</option>
                        @foreach (var province in ViewBag.Provinces)
                        {
                            <option value="@province.Id">@province.ShortCode</option>
                        }
                    </select>
                </div>
                <div class="form-group col-sm-4">
                    <select class="form-control form-control-sm" id="ddlCountryId" name="ddlCountryId">
                        <option value="0" selected>Country</option>
                        @foreach (var country in ViewBag.Countries)
                        {
                            <option value="@country.Id">@country.CountryName</option>
                        }
                    </select>
                </div>
            </div>

            <div class="row">
                <div class="form-group col-sm-3">
                    <input class="form-control form-control-sm" id="txtPostCode" placeholder="Postcode" name="txtPostCode" type="text" maxlength="20" />
                </div>
                <div class="form-group col-sm-4">
                    <input class="form-control form-control-sm" id="txtPhoneNumber" placeholder="Phone number" name="txtPhoneNumber" type="text" maxlength="20" />
                </div>
                <div class="form-group col-sm-4">
                    <input class="form-control form-control-sm" id="txtEmailAddress" placeholder="Email" name="txtEmailAddress" type="text" maxlength="150" />
                </div>
            </div>

            <div class="row">
                <div class="form-group col-sm-5">
                    <small>
                        <b>
                            <label for="fileProfilePic"> Profile pic</label>
                        </b>
                    </small>
                    <input id="fileProfilePic" name="fileProfilePic" placeholder="Profile pic" type="file" class="form-control form-control-sm" style="height:35px" />
                </div>
            </div>
            <div class="row" style="margin-top:20px; margin-bottom:20px">
                <div class="col-sm-12">
                    <div class="form-check form-check-inline mr-1">
                        <input class="form-check-input" id="chkIsActive" type="checkbox" name="chkIsActive">
                        <small>
                            <b><label class="form-check-label" for="chkIsActive" style="color:#007bd7">Tick to make active?</label> </b>
                        </small>
                    </div>
                </div>
            </div>

            <hr />
            <button type="reset" class="btn btn-sm btn-primary" id="btnNew"><i class="fa fa-plus-circle"></i> New</button>
            <button type="submit" class="btn btn-sm btn-success" id="btnSave"><i class="fa fa-save"></i> Save record</button>

        </div>
        <div class="col-sm-3">
            <img id="imgProfilePic" src="~/images/others/no-image.png" alt="Profile pic" style="width:180px;height:200px; margin-top:50px; border:1px solid #c3c3c3; padding: 5px" />
        </div>
    </div>

</form>

<div class="row">
    <div class="col-md-12 input-group" style="margin-top:40px">
        <h3>Existing users</h3>

        <button style="margin-left:10px;margin-right:15px; margin-top:4px;height:27px" class="btn btn-sm btn-danger" id="btnDownloadUserData"><i class="fa fa-download"></i> Load users </button>
        <div style="margin-top:5px">
            <span id="spinnerLoadingDataTable" style="display:none">
                <span class="spinner-border spinner-border-sm text-primary" role="status" aria-hidden="true" style="margin-right:5px"></span>
                <span style="margin-right:20px">Loading...</span>
            </span>
        </div>
    </div>
</div>
<hr />

<div class="row">
    <div class="col-sm-12">
        <div style="display: block; max-height: 240px; min-height: 80px; padding:10px; overflow-y:scroll; overflow-x:hidden; border:1px solid #c3c3c3; margin-bottom:15px" id="loadUserDataTable">
            <partial name="_PartialViewUserData" />
        </div>
    </div>

</div>


<script src="~/js/app-user.js"></script>
